<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head th:fragment="head">
    <meta charset="UTF-8"/>
    <title>Java Movie Review</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>

    <link rel="stylesheet" th:href="@{/webjars/materialize/0.100.2/dist/css/materialize.min.css}"/>
    <link rel="stylesheet" th:href="@{/assets/css/styles.css}"/>
</head>

<body th:inline="text">
<header th:fragment="navbar">
    <nav class="amber">
        <div class="navbar-wrapper ">
                <a sec:authorize="!isAuthenticated()" class="brand-logo center" href="/">Movie Review</a>
                <a sec:authorize="hasRole('ROLE_USER')" class="brand-logo center" href="/movie/">Movie Review</a>
        </div>
    </nav>

</header>



<!--new user modal-->
<div th:fragment="createUserModal">
    <div id="createUser" class="modal black-text">
        <div class="modal-content">
            <form th:action="'/signup'" method="post">
                <div class="input-field">
                    <input type="text" id="username" name="username" placeholder="Username"/>
                    <label for="username">Username</label>
                </div>
                <div class="input-field">
                    <input type="password" id="password" name="password" placeholder="Password"/>
                    <label for="password">Password</label>
                </div>
                <p>Gender</p>
                <div class="row">
                    <p class="col m2">
                        <input id="male" name="gender" type="radio" value="M"/><label for="male">M</label>
                    </p>
                    <p class="col m2">
                        <input id="female" name="gender" type="radio" value="F"/><label for="female">F</label>
                    </p>
                    <p class="col m2">
                        <input id="other" name="gender" type="radio" value="Other"/><label for="other">Other</label>
                    </p>

                    <div class="col m4">
                        <div class="input-field"><input id="age" name="age" type="number" min="1" max="100"/><label for="age">Age</label></div>
                    </div>

                </div>
                <div class="input-field"><input id="occupation" name="occupation" type="text"/><label for="occupation">Occupation</label></div>
                <div class="modal-footer">
                    <button type="submit" class="waves-effect waves-light btn red amber-text">Create New User</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!--new movie modal-->
<div th:fragment="modalMovie" >


    <div id="createMovie" class="modal">
        <div class="modal-content">
            <form th:action="'/movie/createMovie/'" method="post">
                <div class="input-field">
                    <label for="title">Title</label>
                    <input type="text"  id="title" name="title" placeholder="Title"/>
                </div>
                <div class="input-field">


                    <select multiple="multiple"   name="genre" >
                        <option value="" disabled="disabled">Can Select Multiple Genres</option>
                        <option value="Action">Action</option>
                        <option value="Adventure">Adventure</option>
                        <option value="Animation">Animation</option>
                        <option value="Biography">Biography</option>
                        <option value="Comedy">Comedy</option>
                        <option value="Crime">Crime</option>
                        <option value="Documentary">Documentary</option>
                        <option value="Drama">Drama</option>
                        <option value="Family">Family</option>
                        <option value="Fantasy">Fantasy</option>
                        <option value="Film-Noir">Film-Noir</option>
                        <option value="History">History</option>
                        <option value="Horror">Horror</option>
                        <option value="Music">Music</option>
                        <option value="Musical">Musical</option>
                        <option value="Mystery">Mystery</option>
                        <option value="Romance">Romance</option>
                        <option value="Sci-Fi">Sci-Fi</option>
                        <option value="Sport">Sport</option>
                        <option value="Thriller">Thriller</option>
                        <option value="War">War</option>
                        <option value="Western">Western</option>
                    </select>
                    <label>Genre</label>
                </div>


                <div class="input-field">
                    <label for="linkimdb">IMDb Link</label>
                    <input type="url"  id="linkimdb" name="linkimdb" placeholder="IMDb URL"/>
                </div>
                <div class="input-field">
                    <label for="releasedate">Release Date</label>
                    <input type="date" class="datepicker" id="releasedate" name="releasedate" placeholder="Release Date"/>
                </div>
                <div class="input-field">
                    <label for="imgurl">Image URL</label>
                    <input type="url"  id="imgurl" name="imgurl" placeholder="Image URL"/>
                </div>

                <div class="modal-footer">
                    <button type="submit" class="waves-effect waves-light btn red amber-text">Create Movie</button>
                </div>
            </form>
        </div>

    </div>
</div>

<!--update movie modal-->
<div th:fragment="editModal">

    <div id="myEditModal" class="modal">
        <div class="modal-content">
            <form th:action="'/movie/edit/' + @{${movieId}} + '/editMovie/'" method="post">
                <div class="input-field">
                    <label for="title">Title</label>
                    <input type="text"  id="title" name="title" th:value="${movie.title}"/>
                </div>
                <div class="input-field">
                    <select multiple="multiple" class="form-control" id="genre" name="genre">
                        <option value="" disabled="disabled">Can Select Multiple </option>

                        <option value="Action">Action</option>
                        <option value="Adventure">Adventure</option>
                        <option value="Animation">Animation</option>
                        <option value="Biography">Biography</option>
                        <option value="Comedy">Comedy</option>
                        <option value="Crime">Crime</option>
                        <option value="Documentary">Documentary</option>
                        <option value="Drama">Drama</option>
                        <option value="Family">Family</option>
                        <option value="Fantasy">Fantasy</option>
                        <option value="Film-Noir">Film-Noir</option>
                        <option value="History">History</option>
                        <option value="Horror">Horror</option>
                        <option value="Music">Music</option>
                        <option value="Musical">Musical</option>
                        <option value="Mystery">Mystery</option>
                        <option value="Romance">Romance</option>
                        <option value="Sci-Fi">Sci-Fi</option>
                        <option value="Sport">Sport</option>
                        <option value="Thriller">Thriller</option>
                        <option value="War">War</option>
                        <option value="Western">Western</option>
                    </select>
                    <label>Genre</label>
                </div>
                <div class="input-field">
                    <label for="linkimdb">IMDb Link</label>
                    <input type="url"  id="linkimdb" name="linkimdb" th:value="${movie.linkimdb}"/>
                </div>
                <div class="input-field">
                    <label for="releasedate">Release Date</label>
                    <input type="text" class="datepicker" id="releasedate" name="releasedate" th:value="${movie.releasedate}"/>
                </div>
                <div class="input-field">
                    <label for="imgurl">Image URL</label>
                    <input type="url"  id="imgurl" name="imgurl" th:value="${movie.imgurl}"/>
                </div>

                <div class="modal-footer">
                    <button type="submit" class="waves-effect waves-light btn red amber-text">Submit Edit</button>
                </div>
            </form>
        </div>

    </div>

</div>

<!--logout-->
<div th:fragment="logout">

    <div id="logout" class="modal modal">
        <div class="modal-content">
            <p class="center-align">Are you sure you want to leave?</p>
            <div class="row">
                <div class="col s6 center-align">
                    <form th:action="@{/logout}" method="post">
                        <input class="waves-effect waves-light btn" type="submit" value="Yes"> </input>
                    </form>
                </div>
                <div class="col s6 center-align">
                    <button class="waves-effect waves-light btn modal-close" type="button" >No</button>

                </div>
            </div>

        </div>

    </div>
</div>

<!--floating nav button-->
<div th:fragment="addButton">
    <div class="fixed-action-btn">
        <a class="btn-floating btn-large amber">
            <i class="large material-icons">dehaze</i>
        </a>
        <ul sec:authorize="!isAuthenticated()">
            <li><a class="btn-floating red tooltipped" data-position="left" data-delay="50" data-tooltip="Login to enjoy more features!" href="/login"><i class="material-icons">star</i></a></li>

            <li><a class="btn-floating amber tooltipped" data-position="left" data-delay="50" data-tooltip="Top of page" href="#title"><i class="material-icons">keyboard_arrow_up</i></a></li>
        </ul>
        <ul sec:authorize="isAuthenticated()">
            <li><a class="btn-floating red tooltipped modal-trigger" data-target="logout" data-position="left" data-delay="50" data-tooltip="Logout"><i class="material-icons">exit_to_app</i></a></li>
            <li><a class="btn-floating amber tooltipped" data-position="left" data-delay="50" data-tooltip="Top of page" href="#title"><i class="material-icons">keyboard_arrow_up</i></a></li>
            <li><a class="btn-floating purple tooltipped modal-trigger" data-position="left" data-delay="50" data-tooltip="Add new movie" data-target="createMovie"><i class="material-icons">add</i></a></li>
            <li><a th:href="'/movie/' + @{${user.username}} + '/reviews/' " class="btn-floating orange tooltipped" data-position="left" data-delay="50" data-tooltip="Your Reviews"><i class="material-icons">star</i></a></li>
            <li><a class="btn-floating red tooltipped" data-position="left" data-delay="50" data-tooltip="Homepage" href="/movie/"><i class="material-icons">home</i></a></li>

        </ul>
    </div>
</div>

<!--footer-->
<div th:fragment="footer">
    <footer class="page-footer red amber-text">
        <div class="footer-copyright">
            <div class="container">
                © 2017 Copyright Tim Bell
            </div>
        </div>

    </footer>
</div>

<!--javascript and jQuery-->
<span th:fragment="js">

        <script th:src="@{/webjars/jquery/3.2.1/dist/jquery.min.js}"></script>

    <script th:src="@{/webjars/materialize/0.100.2/dist/js/materialize.min.js}"></script>
    <script>
        $(document).ready(function(){
            $(".button-collapse").sideNav();
            $(".dropdown-button").dropdown();
            $('.modal').modal();
            $('select').material_select();
            $('.tooltipped').tooltip({delay: 50});
            $('.scrollspy').scrollSpy();
        });

        $('.datepicker').pickadate({
            selectMonths: true, // Creates a dropdown to control month
            selectYears: 15, // Creates a dropdown of 15 years to control year,
            today: 'Today',
            clear: 'Clear',
            close: 'Ok',
            closeOnSelect: false // Close upon selecting a date,
        });

    </script>
    </span>
</body>
</html>